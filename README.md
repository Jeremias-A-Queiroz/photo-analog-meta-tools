# photo-analog-meta-tools

Bash tools to automate EXIF metadata population in analog photos. This repository contains scripts designed to optimize the metadata workflow, especially for data originating from film logging applications.

---

## üöÄ Current Features

The project is **stable and functional** for the Afilm app data workflow.

### `prepare-analog-meta-data.sh`

This script processes ZIP files exported from the Afilm app, extracting `data.json` and converting it to a CSV file in the expected format for EXIF metadata application.

*   **Robust Extraction:** Converts JSON data to CSV, including `LensModel`, `Aperture`, `ShutterSpeed`, `ExposureValue`, `ISO`, `Latitude`, `Longitude`, `GPSLatitudeRef`, `GPSLongitudeRef`, `Make`, `Model`, `Author`, `GlobalNote`, `Keywords` (for manual editing), and `LensMake` (for manual editing).
*   **Formatted Date:** Converts the `Date` field from ISO 8601 format (`YYYY-MM-DDTHH:MM:SS.SSS`) to the EXIF standard (`YYYY:MM:DD HH:MM:SS`), ensuring compatibility.
*   **Focal Length (`Focal`):** Extracts the numeric focal length from `lensName` and populates it in the CSV.

#### ‚ö†Ô∏è Known Limitation (Important!)

To ensure correct CSV parsing by `photoexif.sh`, the `ImgDesc` field (image description) and other text fields **must not** contain semicolons (`;`) in their content. If present, manual CSV editing is required to remove these characters before proceeding, as Bash's `read` command interprets ';' as a delimiter.

### `photoexif.sh`

This script applies the EXIF metadata contained in the CSV generated by `prepare-analog-meta-data.sh` directly to your photos (JPG or TIFF) using `exiftool`.

*   **Unified:** Supports JPG and TIFF files via the `-t` parameter.
*   **Film Type:** Allows adding the film name (`FilmType`) via the `-f` parameter or interactive prompt.
*   **Comprehensive Mapping:** Populates various EXIF tags, including: `Make`, `Model`, `LensMake`, `LensModel`, `FocalLength`, `FocalDistance`, `ISO`, `DateTimeOriginal`, `CreateDate`, `ApertureValue`, `ExposureTime`, `Exposure`, `GPSLatitude`, `GPSLongitude`, `ImageDescription`, `UserComment`, `Comment`, `Keywords`, and `Author`.
*   **Robust:** Ignores tags in the `exiftool` command if the corresponding value in the CSV is empty.

---

## üéØ Future Goals

Our journey towards complete automation continues! The next steps aim to expand compatibility and metadata richness:

*   **Exif Notes Integration:** Add support for processing data files exported from the "Exif Notes" application, aligning with a more open software philosophy.
*   **Metadata Enrichment:** Incorporate and map additional fields captured by "Exif Notes" (and others, as discovered) into the EXIF workflow, making your metadata even more comprehensive.

---
---

# photo-analog-meta-tools

Ferramentas em Bash para automatizar o preenchimento de metadados EXIF em fotos anal√≥gicas. Este reposit√≥rio cont√©m scripts projetados para otimizar o fluxo de trabalho de metadados, especialmente para dados provenientes de aplicativos de registro de filme.

---

## üöÄ Funcionalidades Atuais

O projeto est√° **est√°vel e funcional** para o fluxo de trabalho com dados do aplicativo Afilm.

### `prepare-analog-meta-data.sh`

Este script processa arquivos ZIP exportados do aplicativo Afilm, extraindo `data.json` e convertendo-o para um arquivo CSV no formato esperado para a aplica√ß√£o de metadados EXIF.

*   **Extra√ß√£o Robusta:** Converte dados JSON para CSV, incluindo `LensModel`, `Aperture`, `ShutterSpeed`, `ExposureValue`, `ISO`, `Latitude`, `Longitude`, `GPSLatitudeRef`, `GPSLongitudeRef`, `Make`, `Model`, `Author`, `GlobalNote`, `Keywords` (para edi√ß√£o manual), e `LensMake` (para edi√ß√£o manual).
*   **Data Formatada:** Converte o campo `Date` do formato ISO 8601 (`YYYY-MM-DDTHH:MM:SS.SSS`) para o padr√£o EXIF (`YYYY:MM:DD HH:MM:SS`), garantindo compatibilidade.
*   **Dist√¢ncia Focal (`Focal`):** Extrai a dist√¢ncia focal num√©rica do `lensName` e a popula no CSV.

#### ‚ö†Ô∏è Limita√ß√£o Conhecida (Importante!)

Para garantir a leitura correta do CSV pelo `photoexif.sh`, o campo `ImgDesc` (descri√ß√£o da imagem) e outros campos textuais **n√£o devem** conter ponto e v√≠rgula (`;`) em seu conte√∫do. Se houver, a edi√ß√£o manual do CSV √© necess√°ria para remover esses caracteres antes de prosseguir, pois o `read` do Bash interpreta ';' como delimitador.

### `photoexif.sh`

Este script aplica os metadados EXIF contidos no CSV gerado por `prepare-analog-meta-data.sh` diretamente nas suas fotos (JPG ou TIFF) usando `exiftool`.

*   **Unificado:** Suporta arquivos JPG e TIFF atrav√©s do par√¢metro `-t`.
*   **Film Type:** Permite adicionar o nome do filme (`FilmType`) via par√¢metro `-f` ou prompt interativo.
*   **Mapeamento Abrangente:** Preenche diversas tags EXIF, incluindo: `Make`, `Model`, `LensMake`, `LensModel`, `FocalLength`, `FocalDistance`, `ISO`, `DateTimeOriginal`, `CreateDate`, `ApertureValue`, `ExposureTime`, `Exposure`, `GPSLatitude`, `GPSLongitude`, `ImageDescription`, `UserComment`, `Comment`, `Keywords`, e `Author`.
*   **Robusto:** Ignora tags no comando `exiftool` se o valor correspondente no CSV for vazio.

---

## üéØ Objetivos Futuros

Nosso caminho para a automa√ß√£o completa continua! As pr√≥ximas etapas visam expandir a compatibilidade e a riqueza dos metadados:

*   **Integra√ß√£o com Exif Notes:** Adicionar suporte para processar arquivos de dados exportados do aplicativo "Exif Notes", alinhando-se a uma filosofia de software mais aberta.
*   **Enriquecimento de Metadados:** Incorporar e mapear campos adicionais capturados pelo "Exif Notes" (e outros, conforme descobertas) para o fluxo de trabalho EXIF, tornando seus metadados ainda mais completos.
